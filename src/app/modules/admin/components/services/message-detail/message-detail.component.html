<div style="overflow-y: scroll; height: 400px; width: 100%;">
  <table class="pt-3 pe-3"
         data-mdb-perfect-scrollbar="true"
         style="position: relative; height: 200px">
    <div *ngFor="let message of messages">

      <div class="d-flex flex-row justify-content-start"
           *ngIf="selectedUser?.id === message.idSender">
        <img [src]="profileImage"
             alt="avatar 1"
             style="width: 60px;">
        <div>
          <p class="small p-2 ms-3 mb-1 rounded-3"
             style="background-color: #f5f6f7;">{{message.message}}<img *ngIf="message.picture"
                 [src]="pictureMessage"
                 alt="message image"
                 style="max-width: 100%;"
                 class="messageImage"></p>


          <p class="small ms-3 mb-3 rounded-3 text-muted float-end">{{message.date}}</p>
        </div>
      </div>

      <div class="d-flex flex-row justify-content-end"
           *ngIf="selectedUser?.id === message.idReceiver">
        <div>
          <p class="small p-2 me-3 mb-1 text-white rounded-3 bg-primary">{{message.message}} <img
                 *ngIf="message.picture"
                 [src]="pictureMessage"
                 alt="message image"
                 style="max-width: 100%;"
                 class="messageImage"></p>
          <p class="small me-3 mb-3 rounded-3 text-muted">{{message.date}}</p>
        </div>
        <img [src]="profileImageLoggedUser"
             alt="avatar 1"
             style="width: 60px;">
      </div>
    </div>
  </table>





</div>
<div class="text-muted d-flex justify-content-start align-items-center pe-3 pt-3 mt-2">
  <img src="https://www.saffronhealth.ca/wp-content/uploads/2021/12/Dr-Goldie-300x271.png"
       alt="avatar 3"
       style="width: 40px; height: 100%;">
  <form (ngSubmit)="sendMessage()"
        #formRef="ngForm">
    <input type="text"
           class="form-control form-control-lg"
           placeholder="Type message"
           type="text"
           id="message"
           [(ngModel)]="message"
           name="message">
    <a class="ms-1 text-muted"
       href="#!"><i class="fas fa-paperclip"></i></a>
    <a class="ms-3 text-muted"
       href="#!"><i class="fas fa-smile"></i></a>
    <a class="ms-3"
       href="#!"><i class="fas fa-paper-plane"></i></a>
  </form>
  <a mat-button
     (click)="sendMessage()">Send</a>
  <button class="btn btn-primary"
          (click)="toggleExpand()">
    <mat-icon>camera_enhance</mat-icon>
  </button>
  <div *ngIf="expanded">
    <div>
      <label>Profile Picture:</label>
      <img [src]="profilePic">
      <input type="file"
             (change)="onFileChanged($event)">
    </div>
  </div>

</div>